# 需求文档

## 介绍

修复用户注册流程中的邮箱验证码UI缺失问题。当前系统在用户注册新邮箱后，虽然发送了验证码邮件，但前端没有提供输入验证码的界面，导致用户无法完成邮箱验证。同时，Cognito后台在邮箱未验证的情况下就创建了用户，这不符合正确的注册流程。

## 需求

### 需求 1

**用户故事：** 作为新用户，我希望在注册时能够输入收到的邮箱验证码，以便完成邮箱验证并成功创建账户

#### 验收标准

1. 当用户提交注册表单时，系统应显示验证码输入界面
2. 当用户收到验证码邮件时，系统应提供清晰的输入框来输入6位数字验证码
3. 当用户输入正确的验证码时，系统应完成用户注册并显示成功消息
4. 当用户输入错误的验证码时，系统应显示错误消息并允许重新输入

### 需求 2

**用户故事：** 作为新用户，我希望只有在邮箱验证成功后才能创建账户，以确保账户安全性

#### 验收标准

1. 当用户提交注册表单时，系统不应立即创建已认证的用户账户
2. 当用户输入正确验证码并确认后，系统才应在Cognito中创建已验证的用户
3. 如果用户未完成邮箱验证，系统不应创建可登录的用户账户
4. 当验证失败时，系统应清理任何临时创建的未验证用户数据

### 需求 3

**用户故事：** 作为新用户，我希望能够重新发送验证码，以防第一次没有收到邮件

#### 验收标准

1. 当用户在验证码界面时，系统应提供"重新发送验证码"按钮
2. 当用户点击重新发送时，系统应发送新的验证码到用户邮箱
3. 当重新发送成功时，系统应显示确认消息
4. 当重新发送失败时，系统应显示错误消息

### 需求 4

**用户故事：** 作为新用户，我希望验证码界面有良好的用户体验，包括倒计时和输入验证

#### 验收标准

1. 当显示验证码输入界面时，系统应显示发送到的邮箱地址（部分隐藏）
2. 当用户输入验证码时，系统应提供实时输入验证（6位数字）
3. 当重新发送验证码后，系统应显示倒计时防止频繁发送
4. 当用户想要返回修改邮箱时，系统应提供返回编辑的选项